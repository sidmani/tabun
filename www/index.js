(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.tabun = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){for(var r,e=getLens(o),t=e[0],n=e[1],u=new Arr(_byteLength(o,t,n)),p=0,a=n>0?t-4:t,h=0;h<a;h+=4)r=revLookup[o.charCodeAt(h)]<<18|revLookup[o.charCodeAt(h+1)]<<12|revLookup[o.charCodeAt(h+2)]<<6|revLookup[o.charCodeAt(h+3)],u[p++]=r>>16&255,u[p++]=r>>8&255,u[p++]=255&r;return 2===n&&(r=revLookup[o.charCodeAt(h)]<<2|revLookup[o.charCodeAt(h+1)]>>4,u[p++]=255&r),1===n&&(r=revLookup[o.charCodeAt(h)]<<10|revLookup[o.charCodeAt(h+1)]<<4|revLookup[o.charCodeAt(h+2)]>>2,u[p++]=r>>8&255,u[p++]=255&r),u}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;

},{}],2:[function(require,module,exports){
"use strict";var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return isArrayBuffer(e)||e&&isArrayBuffer(e.buffer)?fromArrayBuffer(e,t,r):"string"==typeof e?fromString(e,t):fromObject(e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e);if("Buffer"===e.type&&Array.isArray(e.data))return fromArrayLike(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isArrayBuffer(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),numberIsNaN(r=+r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){var i,o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(f){var h=-1;for(i=r;i<u;i++)if(a(e,i)===a(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===s)return h*o}else-1!==h&&(i-=i-h),h=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){for(var c=!0,l=0;l<s;l++)if(a(e,i+l)!==a(t,l)){c=!1;break}if(c)return i}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i,o,u,s,a=e[f],h=null,c=a>239?4:a>223?3:a>191?2:1;if(f+c<=r)switch(c){case 1:a<128&&(h=a);break;case 2:128==(192&(i=e[f+1]))&&(s=(31&a)<<6|63&i)>127&&(h=s);break;case 3:i=e[f+1],o=e[f+2],128==(192&i)&&128==(192&o)&&(s=(15&a)<<12|(63&i)<<6|63&o)>2047&&(s<55296||s>57343)&&(h=s);break;case 4:i=e[f+1],o=e[f+2],u=e[f+3],128==(192&i)&&128==(192&o)&&128==(192&u)&&(s=(15&a)<<18|(63&i)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(h=s)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),f+=c}return decodeCodePointsArray(n)}exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{get:function(){if(this instanceof Buffer)return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{get:function(){if(this instanceof Buffer)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(ArrayBuffer.isView(i)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(f>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n>=(f*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return i>=(f*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:new Buffer(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=(e=e.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isArrayBuffer(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function numberIsNaN(e){return e!=e}

},{"base64-js":1,"ieee754":3}],3:[function(require,module,exports){
"use strict";exports.read=function(t,a,o,r,h){var M,p,w=8*h-r-1,e=(1<<w)-1,f=e>>1,i=-7,s=o?h-1:0,N=o?-1:1,n=t[a+s];for(s+=N,M=n&(1<<-i)-1,n>>=-i,i+=w;i>0;M=256*M+t[a+s],s+=N,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+t[a+s],s+=N,i-=8);if(0===M)M=1-f;else{if(M===e)return p?NaN:1/0*(n?-1:1);p+=Math.pow(2,r),M-=f}return(n?-1:1)*p*Math.pow(2,M-r)},exports.write=function(t,a,o,r,h,M){var p,w,e,f=8*M-h-1,i=(1<<f)-1,s=i>>1,N=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,n=r?0:M-1,u=r?1:-1,c=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(w=isNaN(a)?1:0,p=i):(p=Math.floor(Math.log(a)/Math.LN2),a*(e=Math.pow(2,-p))<1&&(p--,e*=2),(a+=p+s>=1?N/e:N*Math.pow(2,1-s))*e>=2&&(p++,e/=2),p+s>=i?(w=0,p=i):p+s>=1?(w=(a*e-1)*Math.pow(2,h),p+=s):(w=a*Math.pow(2,s-1)*Math.pow(2,h),p=0));h>=8;t[o+n]=255&w,n+=u,w/=256,h-=8);for(p=p<<h|w,f+=h;f>0;t[o+n]=255&p,n+=u,p/=256,f-=8);t[o+n-u]|=128*c};

},{}],4:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"===("undefined"==typeof module?"undefined":_typeof(module)),f=t.regeneratorRuntime;if(f)u&&(module.exports=f);else{(f=t.regeneratorRuntime=u?module.exports:{}).wrap=w;var h="suspendedStart",s="suspendedYield",l="executing",p="completed",y={},d={};d[i]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(N([])));m&&m!==e&&n.call(m,i)&&(d=m);var g=E.prototype=x.prototype=Object.create(d);b.prototype=g.constructor=E,E.constructor=b,E[c]=b.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},f.awrap=function(t){return{__await:t}},_(j.prototype),j.prototype[a]=function(){return this},f.AsyncIterator=j,f.async=function(t,r,e,n){var o=new j(w(t,r,e,n));return f.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(g),g[c]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},f.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},f.values=N,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),f=n.call(a,"finallyLoc");if(u&&f){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,i=Object.create(o.prototype),a=new G(n||[]);return i._invoke=function(t,r,e){var n=h;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return P()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=O(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===h)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=L(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function L(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function x(){}function b(){}function E(){}function _(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function j(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=L(t[e],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===(void 0===f?"undefined":_typeof(f))&&n.call(f,"__await")?Promise.resolve(f.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(f).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=L(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function N(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:P}}function P(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")());

},{}],5:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(s,i){try{var o=t[s](i),c=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}var Sources=require("./sources"),SyncedFile=require("../syncedFile.js");function Decks(e,t){this.settings=e,this.drive=t}Decks.prototype.list=function(){return this.settings.get().decks},Decks.prototype.add=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var r,s,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Sources[t]){e.next=2;break}throw new Error("Unknown source");case 2:return e.next=4,Sources[t].getMeta(n);case 4:return r=e.sent,console.log(r),s=r.name+"_"+(new Date).getTime(),(i=this.settings.get()).decks.push({source:t,at:n,name:r.name,version:r.version,data:s}),o=new SyncedFile(this.drive,s),e.next=12,Promise.all([o.synchronize("id,ease,interval,next\n"),this.settings.set(i)]);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),module.exports=Decks;

},{"../syncedFile.js":9,"./sources":6}],6:[function(require,module,exports){
"use strict";function _asyncToGenerator(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function r(o,u){try{var i=n[o](u),c=i.value}catch(t){return void e(t)}if(!i.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}("next")})}}var github={getMeta:function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://api.github.com/repos/"+n+"/contents/deck.json").then(function(t){return t.json()}).then(function(t){return JSON.parse(window.atob(t.content))}));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()};module.exports={github:github};

},{}],7:[function(require,module,exports){
(function (Buffer){
"use strict";function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),u=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}("next")})}}var qs=require("./util/querystring"),http=require("./util/http"),authScope="https://www.googleapis.com/auth/drive.appdata",endpoints={upload:"https://www.googleapis.com/upload/drive/v3/files",files:"https://www.googleapis.com/drive/v3/files",drive:"https://www.googleapis.com/drive/v3",auth:"https://accounts.google.com/o/oauth2/v2/auth",tokenValidation:"https://www.googleapis.com/oauth2/v3/tokeninfo"},clientId="631778365896-q1bihh884del9i6kg1qf22d6t563kj2e.apps.googleusercontent.com";function Drive(t,e){this.token=t,this.expiry=e}Drive.prototype.httpMethod=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,r,n,o,i){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",http.request(e,r,n,o,Object.assign({Authorization:"Bearer "+this.token},i)));case 1:case"end":return t.stop()}},t,this)}));return function(e,r,n,o,i){return t.apply(this,arguments)}}(),Drive.authURL=endpoints.auth+"?"+qs.build({client_id:clientId,redirect_uri:"https://localhost:8000/auth",response_type:"token",scope:authScope,include_granted_scopes:!0,state:"foo"}),Drive.retrieve=function(){if(!window.localStorage.driveData)throw new Error("Could not load token.");var t=JSON.parse(window.localStorage.driveData);return new Drive(t.token,t.expiry)},Drive.setup=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=Drive.retrieve(),t.next=4,e.validate();case 4:return t.abrupt("return",e);case 7:t.prev=7,t.t0=t.catch(0),window.location=Drive.authURL;case 10:case"end":return t.stop()}},t,this,[[0,7]])})),Drive.prototype.persist=function(){window.localStorage.driveData=JSON.stringify({token:this.token,expiry:this.expiry})},Drive.prototype.validate=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpMethod(endpoints.tokenValidation,{access_token:this.token},void 0,"GET");case 2:return e=t.sent,t.next=5,e.json();case 5:if(!(r=t.sent).error&&r.aud===clientId&&r.scope===authScope){t.next=8;break}throw new Error("Token validation failed");case 8:case"end":return t.stop()}},t,this)})),Drive.prototype.get=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.httpMethod(endpoints.files+"/"+e,{alt:"media"},void 0,"GET"));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),Drive.prototype.list=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["appDataFolder"];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpMethod(endpoints.files,{spaces:n.join(","),q:e},void 0,"GET");case 2:return r=t.sent,t.next=5,r.json();case 5:return t.abrupt("return",t.sent.files);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),Drive.prototype.put=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,r){var n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["appDataFolder"];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={name:e,parents:i},o=http.multipart([JSON.stringify(n),r],[http.mime.json,http.mime.plainText]),t.abrupt("return",this.httpMethod(endpoints.upload,{uploadType:"multipart"},o,"POST",{"Content-Type":"multipart/related; boundary=boundary","Content-Length":Buffer.byteLength(r,"utf8")}));case 3:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),Drive.prototype.update=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.httpMethod(endpoints.upload+"/"+e,{uploadType:"media"},r,"PATCH"));case 1:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),module.exports=Drive;

}).call(this,require("buffer").Buffer)

},{"./util/http":10,"./util/querystring":11,"buffer":2}],8:[function(require,module,exports){
"use strict";function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var s=e[i](o),u=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}var SyncedFile=require("./syncedFile");function Settings(t){this.drive=t,this.file=new SyncedFile(t,"tabun.json")}Settings.default=function(){return{decks:[]}},Settings.prototype.synchronize=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.file.synchronize(e?JSON.stringify(e):void 0));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),Settings.prototype.set=function(t){return this.file.setLocal(JSON.stringify(t)),this.synchronize()},Settings.prototype.get=function(){return JSON.parse(this.file.retrieve())},module.exports=Settings;

},{"./syncedFile":9}],9:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,a){try{var o=t[i](a),s=o.value}catch(e){return void r(e)}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}function SyncedFile(e,t){this.drive=e,this.name=t,this.localStorageIdKey=t+"_id"}function prependTimestamp(e){return(new Date).getTime()+"|"+e}function stripTimestamp(e){return e.substr(e.indexOf("|")+1)}function getTimestamp(e){return parseInt(e.substr(0,e.indexOf("|")),10)}function splitTimestamp(e){if(e)return{time:getTimestamp(e),contents:stripTimestamp(e)}}SyncedFile.prototype.retrieveRemoteId=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.localStorage[this.localStorageIdKey]){e.next=2;break}return e.abrupt("return",window.localStorage[this.localStorageIdKey]);case 2:return e.next=4,this.drive.list("name = '"+this.name+"'");case 4:if(0!==(t=e.sent).length){e.next=7;break}return e.abrupt("return",void 0);case 7:return window.localStorage[this.localStorageIdKey]=t[0].id,e.abrupt("return",t[0].id);case 9:case"end":return e.stop()}},e,this)})),SyncedFile.prototype.retrieveRemote=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveRemoteId();case 2:if(t=e.sent){e.next=6;break}return window.localStorage.removeItem(this.localStorageIdKey),e.abrupt("return",void 0);case 6:return e.prev=6,e.next=9,this.drive.get(t);case 9:return e.abrupt("return",e.sent.text());case 12:throw e.prev=12,e.t0=e.catch(6),window.localStorage.removeItem(this.localStorageIdKey),e.t0;case 16:case"end":return e.stop()}},e,this,[[6,12]])})),SyncedFile.prototype.setRemote=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveRemoteId();case 2:if(r=e.sent,n=prependTimestamp(t),r){e.next=6;break}return e.abrupt("return",this.drive.put(this.name,n));case 6:return e.abrupt("return",this.drive.update(r,n));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),SyncedFile.prototype.retrieveLocal=function(){return window.localStorage[this.name]},SyncedFile.prototype.setLocal=function(e){window.localStorage[this.name]=prependTimestamp(e)},SyncedFile.prototype.retrieve=function(){var e=this.retrieveLocal();if(!e)throw new Error("Could not load local data for file "+this.name);return stripTimestamp(e)},SyncedFile.prototype.synchronize=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=splitTimestamp,e.next=3,this.retrieveRemote();case 3:if(e.t1=e.sent,r=(0,e.t0)(e.t1),!(n=splitTimestamp(this.retrieveLocal()))||!(r&&n.time>r.time)&&r){e.next=11;break}return e.next=9,this.setRemote(n.contents);case 9:e.next=20;break;case 11:if(!r){e.next=15;break}this.setLocal(r.contents),e.next=20;break;case 15:if(t){e.next=17;break}throw new Error("No data to synchronize!");case 17:return this.setLocal(t),e.next=20,this.setRemote(t);case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),module.exports=SyncedFile;

},{}],10:[function(require,module,exports){
"use strict";var request=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n,t,u,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r,n&&(o+="?"+qs.build(n)),e.abrupt("return",fetch(o,{body:t,method:u,headers:new Headers(i)}));case 3:case"end":return e.stop()}},e,this)}));return function(r,n,t,u,i){return e.apply(this,arguments)}}();function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,n){return function t(u,i){try{var o=r[u](i),a=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});e(a)}("next")})}}var qs=require("./querystring"),mime={json:"application/json",plainText:"text/plain"};function multipart(e,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"boundary",t="",u=0;u<e.length;u++)t+="--"+n+"\nContent-Type: "+r[u]+"; charset=UTF-8\n\n"+e[u]+"\n";return t+="\n--"+n+"--"}module.exports={request:request,multipart:multipart,mime:mime};

},{"./querystring":11}],11:[function(require,module,exports){
"use strict";module.exports={parse:function(n){var e={};return n.split("&").forEach(function(n){if(n.includes("=")){var t=n.split("=");e[t[0]]=t[1]}else e[n]=!0}),e},build:function(n){return Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&")}};

},{}],12:[function(require,module,exports){
"use strict";require("regenerator-runtime/runtime");var settings=require("./render/settings"),decks=require("./render/decks"),auth=require("./render/auth");module.exports={settings:settings,decks:decks,auth:auth};

},{"./render/auth":13,"./render/decks":15,"./render/settings":16,"regenerator-runtime/runtime":4}],13:[function(require,module,exports){
"use strict";function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,n){return function t(a,o){try{var i=r[a](o),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){t("next",e)},function(e){t("throw",e)});e(u)}("next")})}}var Drive=require("../core/drive"),qs=require("../core/util/querystring");module.exports=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=window.location.hash.substr(1)).length>0)){e.next=19;break}if(!(n=qs.parse(r)).error){e.next=6;break}return console.error("Auth failure."),e.abrupt("return");case 6:return e.prev=6,t=new Drive(n.access_token,n.expires_in+Math.floor(Date.now()/1e3)),e.next=10,t.validate(n.access_token);case 10:t.persist(),window.location="../main/",e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),document.body.innerHTML='Authentication error. <a href="/auth/">Try again</a>';case 17:e.next=23;break;case 19:return e.next=21,Drive.setup();case 21:if(!e.sent){e.next=23;break}window.location="../main/";case 23:case"end":return e.stop()}},e,this,[[6,14]])}));return function(){return e.apply(this,arguments)}}();

},{"../core/drive":7,"../core/util/querystring":11}],14:[function(require,module,exports){
"use strict";module.exports=function e(t){var n=document.createElement(t.tag.toUpperCase());return Object.keys(t).forEach(function(e){"tag"!==e&&"children"!==e&&"text"!==e&&n.setAttribute(e,t[e])}),t.children&&t.children.forEach(function(t){n.appendChild(e(t))}),t.text&&n.appendChild(document.createTextNode(t.text)),n};

},{}],15:[function(require,module,exports){
"use strict";var display=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Drive.setup();case 2:return r=e.sent,t=new Settings(r),e.next=6,t.synchronize(Settings.default());case 6:layout(new Decks(t,r).list());case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function n(i,s){try{var a=r[i](s),c=a.value}catch(e){return void t(e)}if(!a.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}("next")})}}var Decks=require("../core/deck/decks"),Drive=require("../core/drive"),Settings=require("../core/settings"),build=require("./buildHTML");function layout(e){for(var r={tag:"div",class:"decks",children:[]},t=0;t<e.length;t+=1)r.children.push({tag:"div",class:"deck",children:[{tag:"span",class:"deck-name",text:e[t].name},{tag:"span",class:"deck-source",text:e[t].source}]});document.getElementById("app").appendChild(build(r))}module.exports={display:display};

},{"../core/deck/decks":5,"../core/drive":7,"../core/settings":8,"./buildHTML":14}],16:[function(require,module,exports){
"use strict";var display=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Drive.setup();case 2:return r=e.sent,n=new Settings(r),e.next=6,n.synchronize();case 6:layout(n.get());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,n){return function t(i,o){try{var u=r[i](o),s=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(s).then(function(e){t("next",e)},function(e){t("throw",e)});e(s)}("next")})}}var Drive=require("../core/drive"),Settings=require("../core/settings"),build=require("./buildHTML");function layout(e){console.log(e)}module.exports={display:display};

},{"../core/drive":7,"../core/settings":8,"./buildHTML":14}]},{},[12])(12)
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIsInNyYy9qcy9jb3JlL2RlY2svZGVja3MuanMiLCJzcmMvanMvY29yZS9kZWNrL3NvdXJjZXMuanMiLCJzcmMvanMvY29yZS9kcml2ZS5qcyIsInNyYy9qcy9jb3JlL3NldHRpbmdzLmpzIiwic3JjL2pzL2NvcmUvc3luY2VkRmlsZS5qcyIsInNyYy9qcy9jb3JlL3V0aWwvaHR0cC5qcyIsInNyYy9qcy9jb3JlL3V0aWwvcXVlcnlzdHJpbmcuanMiLCJzcmMvanMvaW5kZXguanMiLCJzcmMvanMvcmVuZGVyL2F1dGguanMiLCJzcmMvanMvcmVuZGVyL2J1aWxkSFRNTC5qcyIsInNyYy9qcy9yZW5kZXIvZGVja3MuanMiLCJzcmMvanMvcmVuZGVyL3NldHRpbmdzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsYUFFQSxRQUFRLFdBQWEsV0FDckIsUUFBUSxZQUFjLFlBQ3RCLFFBQVEsY0FBZ0IsY0FPeEIsSUFMQSxJQUFJLFVBQ0EsYUFDQSxJQUE0QixvQkFBZixXQUE2QixXQUFhLE1BRXZELEtBQU8sbUVBQ0YsRUFBSSxFQUFHLElBQU0sS0FBSyxPQUFRLEVBQUksTUFBTyxFQUM1QyxPQUFPLEdBQUssS0FBSyxHQUNqQixVQUFVLEtBQUssV0FBVyxJQUFNLEVBUWxDLFNBQVMsUUFBUyxHQUNoQixJQUFJLEVBQU0sRUFBSSxPQUVkLEdBQUksRUFBTSxFQUFJLEVBQ1osTUFBTSxJQUFJLE1BQU0sa0RBS2xCLElBQUksRUFBVyxFQUFJLFFBQVEsS0FPM0IsT0FOa0IsSUFBZCxJQUFpQixFQUFXLElBTXhCLEVBSmMs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QVMsY0FIakIsS0FBQSxFQUtFLE9BQU8sRUFBUyxPQUxsQixLQUFBLEVBQUEsSUFBQSxNQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEseVdBUkEsSUFBTSxNQUFRLFFBQVEsaUJBQ2hCLFNBQVcsUUFBUSxvQkFDbkIsTUFBUSxRQUFRLGVBRXRCLFNBQVMsT0FBTyxHQUNkLFFBQVEsSUFBSSxHQVdkLE9BQU8sU0FBWSxRQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayhcbiAgICAgIHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aClcbiAgICApKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxudmFyIEtfTUFYX0xFTkdUSCA9IDB4N2ZmZmZmZmZcbmV4cG9ydHMua01heExlbmd0aCA9IEtfTUFYX0xFTkdUSFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBQcmludCB3YXJuaW5nIGFuZCByZWNvbW1lbmQgdXNpbmcgYGJ1ZmZlcmAgdjQueCB3aGljaCBoYXMgYW4gT2JqZWN0XG4gKiAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBXZSByZXBvcnQgdGhhdCB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBpZiB0aGUgYXJlIG5vdCBzdWJjbGFzc2FibGVcbiAqIHVzaW5nIF9fcHJvdG9fXy4gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWBcbiAqIChTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOCkuIElFIDEwIGxhY2tzIHN1cHBvcnRcbiAqIGZvciBfX3Byb3RvX18gYW5kIGhhcyBhIGJ1Z2d5IHR5cGVkIGFycmF5IGltcGxlbWVudGF0aW9uLlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICBjb25zb2xlLmVycm9yKFxuICAgICdUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgJyArXG4gICAgJ2BidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuJ1xuICApXG59XG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgLy8gQ2FuIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkP1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSwgJ3BhcmVudCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ieXRlT2Zmc2V0XG4gIH1cbn0pXG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAobGVuZ3RoKSB7XG4gIGlmIChsZW5ndGggPiBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIHZhciBidWYgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gIGJ1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBidWZcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKGFyZylcbiAgfVxuICByZXR1cm4gZnJvbShhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbmlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgIHZhbHVlOiBudWxsLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSlcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbmZ1bmN0aW9uIGZyb20gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKGlzQXJyYXlCdWZmZXIodmFsdWUpIHx8ICh2YWx1ZSAmJiBpc0FycmF5QnVmZmVyKHZhbHVlLmJ1ZmZlcikpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbi8vIE5vdGU6IENoYW5nZSBwcm90b3R5cGUgKmFmdGVyKiBCdWZmZXIuZnJvbSBpcyBkZWZpbmVkIHRvIHdvcmthcm91bmQgQ2hyb21lIGJ1Zzpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvMTQ4XG5CdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG5CdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcihzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAoc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUoc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUoc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdmFyIGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IGJ1Zi53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgYnVmID0gYnVmLnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAoYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB2YXIgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIGJ1ZltpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJsZW5ndGhcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgdmFyIGJ1ZlxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgYnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0IChvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdmFyIGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW4pXG5cbiAgICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGJ1ZlxuICAgIH1cblxuICAgIG9iai5jb3B5KGJ1ZiwgMCwgMCwgbGVuKVxuICAgIHJldHVybiBidWZcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KG9iaikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IG51bWJlcklzTmFOKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIoMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwgS19NQVhfTEVOR1RIYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBLX01BWF9MRU5HVEgudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiBiICE9IG51bGwgJiYgYi5faXNCdWZmZXIgPT09IHRydWVcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoYnVmKSkge1xuICAgICAgYnVmID0gQnVmZmVyLmZyb20oYnVmKVxuICAgIH1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBpc0FycmF5QnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgKGFuZCB0aGUgYGlzLWJ1ZmZlcmAgbnBtIHBhY2thZ2UpXG4vLyB0byBkZXRlY3QgYSBCdWZmZXIgaW5zdGFuY2UuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBgaW5zdGFuY2VvZiBCdWZmZXJgXG4vLyByZWxpYWJseSBpbiBhIGJyb3dzZXJpZnkgY29udGV4dCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIGRpZmZlcmVudFxuLy8gY29waWVzIG9mIHRoZSAnYnVmZmVyJyBwYWNrYWdlIGluIHVzZS4gVGhpcyBtZXRob2Qgd29ya3MgZXZlbiBmb3IgQnVmZmVyXG4vLyBpbnN0YW5jZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgZnJvbSBhbm90aGVyIGNvcHkgb2YgdGhlIGBidWZmZXJgIHBhY2thZ2UuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNTRcbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmcgPSBCdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nXG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAobnVtYmVySXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPj4+IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyAoYnl0ZXNbaSArIDFdICogMjU2KSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVMZW5ndGgpIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyJylcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBVc2UgYnVpbHQtaW4gd2hlbiBhdmFpbGFibGUsIG1pc3NpbmcgZnJvbSBJRTExXG4gICAgdGhpcy5jb3B5V2l0aGluKHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKVxuICB9IGVsc2UgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yICh2YXIgaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoKGVuY29kaW5nID09PSAndXRmOCcgJiYgY29kZSA8IDEyOCkgfHxcbiAgICAgICAgICBlbmNvZGluZyA9PT0gJ2xhdGluMScpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoOiBJZiBgdmFsYCBmaXRzIGludG8gYSBzaW5nbGUgYnl0ZSwgdXNlIHRoYXQgbnVtZXJpYyB2YWx1ZS5cbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZylcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJyArIHZhbCArXG4gICAgICAgICdcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKVxuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXisvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHRha2VzIGVxdWFsIHNpZ25zIGFzIGVuZCBvZiB0aGUgQmFzZTY0IGVuY29kaW5nXG4gIHN0ciA9IHN0ci5zcGxpdCgnPScpWzBdXG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuLy8gQXJyYXlCdWZmZXJzIGZyb20gYW5vdGhlciBjb250ZXh0IChpLmUuIGFuIGlmcmFtZSkgZG8gbm90IHBhc3MgdGhlIGBpbnN0YW5jZW9mYCBjaGVja1xuLy8gYnV0IHRoZXkgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgdmFsaWQuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE2NlxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlciAob2JqKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fFxuICAgIChvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IubmFtZSA9PT0gJ0FycmF5QnVmZmVyJyAmJlxuICAgICAgdHlwZW9mIG9iai5ieXRlTGVuZ3RoID09PSAnbnVtYmVyJylcbn1cblxuZnVuY3Rpb24gbnVtYmVySXNOYU4gKG9iaikge1xuICByZXR1cm4gb2JqICE9PSBvYmogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuIShmdW5jdGlvbihnbG9iYWwpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiO1xuICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7XG4gIGlmIChydW50aW1lKSB7XG4gICAgaWYgKGluTW9kdWxlKSB7XG4gICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsXG4gICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgZXZhbHVhdGluZyB0aGUgcmVzdCBvZiB0aGlzIGZpbGUgaWYgdGhlIHJ1bnRpbWUgd2FzXG4gICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERlZmluZSB0aGUgcnVudGltZSBnbG9iYWxseSAoYXMgZXhwZWN0ZWQgYnkgZ2VuZXJhdGVkIGNvZGUpIGFzIGVpdGhlclxuICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuXG4gIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9O1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIHJ1bnRpbWUud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3RvU3RyaW5nVGFnU3ltYm9sXSA9XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBpZiAoISh0b1N0cmluZ1RhZ1N5bWJvbCBpbiBnZW5GdW4pKSB7XG4gICAgICAgIGdlbkZ1blt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBydW50aW1lLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEluIHNsb3BweSBtb2RlLCB1bmJvdW5kIGB0aGlzYCByZWZlcnMgdG8gdGhlIGdsb2JhbCBvYmplY3QsIGZhbGxiYWNrIHRvXG4gIC8vIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlmIHdlJ3JlIGluIGdsb2JhbCBzdHJpY3QgbW9kZS4gVGhhdCBpcyBzYWRseSBhIGZvcm1cbiAgLy8gb2YgaW5kaXJlY3QgZXZhbCB3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeS5cbiAgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcyB9KSgpIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKVxuKTtcbiIsImNvbnN0IFNvdXJjZXMgPSByZXF1aXJlKCcuL3NvdXJjZXMnKTtcbmNvbnN0IFN5bmNlZEZpbGUgPSByZXF1aXJlKCcuLi9zeW5jZWRGaWxlLmpzJyk7XG5cbmZ1bmN0aW9uIERlY2tzKHNldHRpbmdzLCBkcml2ZSkge1xuICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gIHRoaXMuZHJpdmUgPSBkcml2ZTtcbn1cblxuRGVja3MucHJvdG90eXBlLmxpc3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuZ2V0KCkuZGVja3M7XG59O1xuXG5EZWNrcy5wcm90b3R5cGUuYWRkID0gYXN5bmMgZnVuY3Rpb24oc291cmNlLCBsb2NhdG9yKSB7IFxuICBpZiAoIVNvdXJjZXNbc291cmNlXSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBzb3VyY2UnKTtcbiAgfVxuXG4gIC8vIGdldCBtZXRhZGF0YSBmcm9tIHNvdXJjZVxuICBjb25zdCBtZXRhID0gYXdhaXQgU291cmNlc1tzb3VyY2VdLmdldE1ldGEobG9jYXRvcik7XG4gIGNvbnNvbGUubG9nKG1ldGEpO1xuXG4gIC8vIGNyZWF0ZSAoaG9wZWZ1bGx5KSB1bmlxdWUgZmlsZW5hbWVcbiAgY29uc3QgZmlsZW5hbWUgPSBgJHttZXRhLm5hbWV9XyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9YDtcbiAgXG4gIC8vIHJldHJpZXZlIHNldHRpbmdzIGFuZCB1cGRhdGVcbiAgY29uc3QgcyA9IHRoaXMuc2V0dGluZ3MuZ2V0KCk7XG4gIHMuZGVja3MucHVzaCh7XG4gICAgc291cmNlLFxuICAgIGF0OiBsb2NhdG9yLFxuICAgIG5hbWU6IG1ldGEubmFtZSxcbiAgICB2ZXJzaW9uOiBtZXRhLnZlcnNpb24sXG4gICAgZGF0YTogZmlsZW5hbWUsXG4gIH0pO1xuICBjb25zdCBmaWxlID0gbmV3IFN5bmNlZEZpbGUodGhpcy5kcml2ZSwgZmlsZW5hbWUpO1xuXG4gIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBmaWxlLnN5bmNocm9uaXplKCdpZCxlYXNlLGludGVydmFsLG5leHRcXG4nKSxcbiAgICB0aGlzLnNldHRpbmdzLnNldChzKSxcbiAgXSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERlY2tzO1xuIiwiY29uc3QgZ2l0aHViID0ge1xuICBnZXRNZXRhOiBhc3luYyBmdW5jdGlvbihsb2NhdG9yKSB7IC8vIGxvY2F0b3IgaXMgb2YgdGhlIGZvcm0gJ3VzZXIvcmVwby1uYW1lJ1xuICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy8ke2xvY2F0b3J9L2NvbnRlbnRzL2RlY2suanNvbmApXG4gICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKGpzb24gPT4gSlNPTi5wYXJzZSh3aW5kb3cuYXRvYihqc29uLmNvbnRlbnQpKSlcbiAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnaXRodWIsXG59O1xuIiwiY29uc3QgcXMgPSByZXF1aXJlKCcuL3V0aWwvcXVlcnlzdHJpbmcnKTtcbmNvbnN0IGh0dHAgPSByZXF1aXJlKCcuL3V0aWwvaHR0cCcpO1xuXG5jb25zdCBhdXRoU2NvcGUgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZS5hcHBkYXRhJztcbmNvbnN0IGVuZHBvaW50cyA9IHtcbiAgdXBsb2FkOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vdXBsb2FkL2RyaXZlL3YzL2ZpbGVzJyxcbiAgZmlsZXM6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9kcml2ZS92My9maWxlcycsXG4gIGRyaXZlOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMnLFxuICBhdXRoOiAnaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL3YyL2F1dGgnLFxuICB0b2tlblZhbGlkYXRpb246ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW5pbmZvJyxcbn07XG5cbmNvbnN0IGNsaWVudElkID0gJzYzMTc3ODM2NTg5Ni1xMWJpaGg4ODRkZWw5aTZrZzFxZjIyZDZ0NTYza2oyZS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSc7XG5cbmZ1bmN0aW9uIERyaXZlKHRva2VuLCBleHBpcnkpIHtcbiAgdGhpcy50b2tlbiA9IHRva2VuO1xuICB0aGlzLmV4cGlyeSA9IGV4cGlyeTtcbn1cblxuRHJpdmUucHJvdG90eXBlLmh0dHBNZXRob2QgPSBhc3luYyBmdW5jdGlvbihlbmRwb2ludCwgcXVlcnksIGJvZHksIG1ldGhvZCwgaGVhZGVycykge1xuICByZXR1cm4gaHR0cC5yZXF1ZXN0KGVuZHBvaW50LCBxdWVyeSwgYm9keSwgbWV0aG9kLCBPYmplY3QuYXNzaWduKHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMudG9rZW59YCB9LCBoZWFkZXJzKSk7XG59O1xuXG5Ecml2ZS5hdXRoVVJMID0gYCR7ZW5kcG9pbnRzLmF1dGh9PyR7cXMuYnVpbGQoe1xuICAgIGNsaWVudF9pZDogY2xpZW50SWQsXG4gICAgcmVkaXJlY3RfdXJpOiAnaHR0cHM6Ly9sb2NhbGhvc3Q6ODAwMC9hdXRoJyxcbiAgICByZXNwb25zZV90eXBlOiAndG9rZW4nLFxuICAgIHNjb3BlOiBhdXRoU2NvcGUsXG4gICAgaW5jbHVkZV9ncmFudGVkX3Njb3BlczogdHJ1ZSxcbiAgICBzdGF0ZTogJ2ZvbycsXG4gIH0pfWA7IFxuXG4vLyBzdG9yZSBhbmQgcmV0cmlldmUgdGhlIHRva2VuIGluIGxvY2Fsc3RvcmFnZVxuRHJpdmUucmV0cmlldmUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlLmRyaXZlRGF0YSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGxvYWQgdG9rZW4uJyk7XG4gIH1cblxuICBjb25zdCBzYXZlZCA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5kcml2ZURhdGEpO1xuICByZXR1cm4gbmV3IERyaXZlKHNhdmVkLnRva2VuLCBzYXZlZC5leHBpcnkpO1xufTtcblxuLy8gVE9ETzogdGhpcyBmdW5jdGlvbiBpcyBjb252ZW5pZW50IGJ1dCBicmVha3MgZW5jYXBzdWxhdGlvblxuRHJpdmUuc2V0dXAgPSBhc3luYyBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkID0gRHJpdmUucmV0cmlldmUoKTtcbiAgICBhd2FpdCBkLnZhbGlkYXRlKCk7XG4gICAgcmV0dXJuIGQ7XG4gIH0gY2F0Y2goZSkge1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IERyaXZlLmF1dGhVUkw7XG4gIH1cbn07XG5cbkRyaXZlLnByb3RvdHlwZS5wZXJzaXN0ID0gZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZHJpdmVEYXRhID0gSlNPTi5zdHJpbmdpZnkoeyB0b2tlbjogdGhpcy50b2tlbiwgZXhwaXJ5OiB0aGlzLmV4cGlyeSB9KTtcbn07XG5cbkRyaXZlLnByb3RvdHlwZS52YWxpZGF0ZSA9IGFzeW5jIGZ1bmN0aW9uKCkge1xuICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmh0dHBNZXRob2QoZW5kcG9pbnRzLnRva2VuVmFsaWRhdGlvbiwgeyBhY2Nlc3NfdG9rZW46IHRoaXMudG9rZW4gfSwgdW5kZWZpbmVkLCAnR0VUJyk7XG4gIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICBpZiAoanNvbi5lcnJvciB8fCBqc29uLmF1ZCAhPT0gY2xpZW50SWQgfHwganNvbi5zY29wZSAhPT0gYXV0aFNjb3BlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiB2YWxpZGF0aW9uIGZhaWxlZCcpO1xuICB9XG59O1xuXG5Ecml2ZS5wcm90b3R5cGUuZ2V0ID0gYXN5bmMgZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIHRoaXMuaHR0cE1ldGhvZChgJHtlbmRwb2ludHMuZmlsZXN9LyR7aWR9YCwgeyBhbHQ6ICdtZWRpYScgfSwgdW5kZWZpbmVkLCAnR0VUJyk7XG59O1xuXG5Ecml2ZS5wcm90b3R5cGUubGlzdCA9IGFzeW5jIGZ1bmN0aW9uKHEsIHNwYWNlcyA9IFsnYXBwRGF0YUZvbGRlciddKSB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuaHR0cE1ldGhvZChlbmRwb2ludHMuZmlsZXMsIHtcbiAgICBzcGFjZXM6IHNwYWNlcy5qb2luKCcsJyksXG4gICAgcSxcbiAgfSwgdW5kZWZpbmVkLCAnR0VUJyk7XG4gXG4gIHJldHVybiAoYXdhaXQgcmVzLmpzb24oKSkuZmlsZXM7O1xufTtcblxuRHJpdmUucHJvdG90eXBlLnB1dCA9IGFzeW5jIGZ1bmN0aW9uKG5hbWUsIGRhdGEsIHBhcmVudHMgPSBbJ2FwcERhdGFGb2xkZXInXSkge1xuICBjb25zdCBtZXRhID0ge1xuICAgIG5hbWUsXG4gICAgcGFyZW50cyxcbiAgfTtcblxuICBjb25zdCBib2R5ID0gaHR0cC5tdWx0aXBhcnQoW0pTT04uc3RyaW5naWZ5KG1ldGEpLCBkYXRhXSwgW2h0dHAubWltZS5qc29uLCBodHRwLm1pbWUucGxhaW5UZXh0XSk7XG5cbiAgcmV0dXJuIHRoaXMuaHR0cE1ldGhvZChlbmRwb2ludHMudXBsb2FkLCB7IHVwbG9hZFR5cGU6ICdtdWx0aXBhcnQnIH0sIGJvZHksICdQT1NUJywge1xuICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PWJvdW5kYXJ5JyxcbiAgICAnQ29udGVudC1MZW5ndGgnOiBCdWZmZXIuYnl0ZUxlbmd0aChkYXRhLCAndXRmOCcpLFxuICB9KTtcbn07XG5cbkRyaXZlLnByb3RvdHlwZS51cGRhdGUgPSBhc3luYyBmdW5jdGlvbihpZCwgbmV3RGF0YSkge1xuICByZXR1cm4gdGhpcy5odHRwTWV0aG9kKGAke2VuZHBvaW50cy51cGxvYWR9LyR7aWR9YCwgeyB1cGxvYWRUeXBlOiAnbWVkaWEnIH0sIG5ld0RhdGEsICdQQVRDSCcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERyaXZlO1xuIiwiY29uc3QgU3luY2VkRmlsZSA9IHJlcXVpcmUoJy4vc3luY2VkRmlsZScpO1xuXG4vLyBmaXJzdCBjYWxsIHNob3VsZCBhbHdheXMgYmUgc3luY2hyb25pemUoZGVmYXVsdHMpIHRvIHByZXZlbnQgb3ZlcndyaXRpbmcgb2YgcmVtb3RlIGRhdGFcbmZ1bmN0aW9uIFNldHRpbmdzKGRyaXZlKSB7XG4gIHRoaXMuZHJpdmUgPSBkcml2ZTtcbiAgdGhpcy5maWxlID0gbmV3IFN5bmNlZEZpbGUoZHJpdmUsICd0YWJ1bi5qc29uJyk7IFxufVxuXG5TZXR0aW5ncy5kZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgZGVja3M6IFtdLFxuICB9O1xufTtcblxuU2V0dGluZ3MucHJvdG90eXBlLnN5bmNocm9uaXplID0gYXN5bmMgZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHJldHVybiB0aGlzLmZpbGUuc3luY2hyb25pemUob2JqZWN0ID8gSlNPTi5zdHJpbmdpZnkob2JqZWN0KSA6IHVuZGVmaW5lZCk7XG59O1xuXG5TZXR0aW5ncy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHRoaXMuZmlsZS5zZXRMb2NhbChKU09OLnN0cmluZ2lmeShvYmplY3QpKTtcbiAgcmV0dXJuIHRoaXMuc3luY2hyb25pemUoKTtcbn07XG5cblNldHRpbmdzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5maWxlLnJldHJpZXZlKCkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZXR0aW5nczsgXG4iLCJmdW5jdGlvbiBTeW5jZWRGaWxlKGRyaXZlLCBuYW1lKSB7XG4gIHRoaXMuZHJpdmUgPSBkcml2ZTtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy5sb2NhbFN0b3JhZ2VJZEtleSA9IG5hbWUgKyAnX2lkJztcbn1cblxuZnVuY3Rpb24gcHJlcGVuZFRpbWVzdGFtcChzdHIpIHtcbiAgcmV0dXJuIGAke25ldyBEYXRlKCkuZ2V0VGltZSgpfXwke3N0cn1gO1xufVxuXG5mdW5jdGlvbiBzdHJpcFRpbWVzdGFtcChzdHIpIHtcbiAgcmV0dXJuIHN0ci5zdWJzdHIoc3RyLmluZGV4T2YoJ3wnKSArIDEpO1xufVxuXG5mdW5jdGlvbiBnZXRUaW1lc3RhbXAoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIuc3Vic3RyKDAsIHN0ci5pbmRleE9mKCd8JykpLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHNwbGl0VGltZXN0YW1wKHN0cikge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRpbWU6IGdldFRpbWVzdGFtcChzdHIpLFxuICAgIGNvbnRlbnRzOiBzdHJpcFRpbWVzdGFtcChzdHIpLFxuICB9O1xufVxuXG4vLyBnZXQgaWQgb2YgZmlsZSBieSBuYW1lXG5TeW5jZWRGaWxlLnByb3RvdHlwZS5yZXRyaWV2ZVJlbW90ZUlkID0gYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlSWRLZXldKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2VbdGhpcy5sb2NhbFN0b3JhZ2VJZEtleV07XG4gIH1cblxuICBjb25zdCBmaWxlcyA9IGF3YWl0IHRoaXMuZHJpdmUubGlzdChgbmFtZSA9ICcke3RoaXMubmFtZX0nYCk7XG4gIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgd2luZG93LmxvY2FsU3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUlkS2V5XSA9IGZpbGVzWzBdLmlkO1xuICByZXR1cm4gZmlsZXNbMF0uaWQ7XG59O1xuXG4vLyBnZXQgZmlsZSB3aXRoIHByZXBlbmRlZCB0aW1lc3RhbXAgZnJvbSByZW1vdGVcblN5bmNlZEZpbGUucHJvdG90eXBlLnJldHJpZXZlUmVtb3RlID0gYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGlkID0gYXdhaXQgdGhpcy5yZXRyaWV2ZVJlbW90ZUlkKCk7XG4gIFxuICBpZiAoIWlkKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMubG9jYWxTdG9yYWdlSWRLZXkpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiAoYXdhaXQgdGhpcy5kcml2ZS5nZXQoaWQpKS50ZXh0KCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5sb2NhbFN0b3JhZ2VJZEtleSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuLy8gc2V0IGZpbGUgb24gcmVtb3RlXG5TeW5jZWRGaWxlLnByb3RvdHlwZS5zZXRSZW1vdGUgPSBhc3luYyBmdW5jdGlvbihjb250ZW50KSB7XG4gIGNvbnN0IGlkID0gYXdhaXQgdGhpcy5yZXRyaWV2ZVJlbW90ZUlkKCk7XG4gIGNvbnN0IHN0ciA9IHByZXBlbmRUaW1lc3RhbXAoY29udGVudCk7XG4gIC8vIGZpbGUgZG9lcyBub3QgZXhpc3QsIGNyZWF0ZVxuICBpZiAoIWlkKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJpdmUucHV0KHRoaXMubmFtZSwgc3RyKTtcbiAgfVxuXG4gIC8vIGZpbGUgZXhpc3RzLCB1cGRhdGVcbiAgcmV0dXJuIHRoaXMuZHJpdmUudXBkYXRlKGlkLCBzdHIpO1xufTtcblxuLy8gZ2V0IGZpbGUgd2l0aCBwcmVwZW5kZWQgdGltZXN0YW1wIGZyb20gbG9jYWxTdG9yYWdlXG5TeW5jZWRGaWxlLnByb3RvdHlwZS5yZXRyaWV2ZUxvY2FsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlW3RoaXMubmFtZV07XG59XG5cbi8vIHNldCBmaWxlIGluIGxvY2FsU3RvcmFnZVxuU3luY2VkRmlsZS5wcm90b3R5cGUuc2V0TG9jYWwgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2VbdGhpcy5uYW1lXSA9IHByZXBlbmRUaW1lc3RhbXAoY29udGVudCk7ICBcbn1cblxuLy8gY29udmVuaWVuY2UgbWV0aG9kIHRvIGdldCBkYXRhIGFuZCBzdHJpcCB0aW1lc3RhbXBcblN5bmNlZEZpbGUucHJvdG90eXBlLnJldHJpZXZlID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGZpbGUgPSB0aGlzLnJldHJpZXZlTG9jYWwoKTtcbiAgaWYgKCFmaWxlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBsb2NhbCBkYXRhIGZvciBmaWxlICR7dGhpcy5uYW1lfWApO1xuICB9XG4gIHJldHVybiBzdHJpcFRpbWVzdGFtcChmaWxlKTtcbn07XG5cblN5bmNlZEZpbGUucHJvdG90eXBlLnN5bmNocm9uaXplID0gYXN5bmMgZnVuY3Rpb24oY29udGVudHMpIHtcbiAgY29uc3QgcmVtb3RlID0gc3BsaXRUaW1lc3RhbXAoYXdhaXQgdGhpcy5yZXRyaWV2ZVJlbW90ZSgpKTtcbiAgY29uc3QgbG9jYWwgPSBzcGxpdFRpbWVzdGFtcCh0aGlzLnJldHJpZXZlTG9jYWwoKSk7XG5cbiAgaWYgKGxvY2FsICYmICgocmVtb3RlICYmIGxvY2FsLnRpbWUgPiByZW1vdGUudGltZSkgfHwgIXJlbW90ZSkpIHtcbiAgICAvLyBvdmVyd3JpdGUgcmVtb3RlIHdpdGggbG9jYWwgaWYgbG9jYWwgZXhpc3RzIGFuZCBlaXRoZXI6XG4gICAgLy8gLSByZW1vdGUgZXhpc3RzIGFuZCBpcyBvdXRkYXRlZFxuICAgIC8vIC0gcmVtb3RlIGRvZXMgbm90IGV4aXN0XG4gICAgYXdhaXQgdGhpcy5zZXRSZW1vdGUobG9jYWwuY29udGVudHMpO1xuICB9IGVsc2UgaWYgKHJlbW90ZSkge1xuICAgIC8vIG92ZXJ3cml0ZSBsb2NhbCB3aXRoIHJlbW90ZSBpZiByZW1vdGUgZXhpc3RzIGFuZCBlaXRoZXI6XG4gICAgLy8gLSBsb2NhbCBleGlzdHMgYW5kIGlzIG91dGRhdGVkXG4gICAgLy8gLSBsb2NhbCBkb2VzIG5vdCBleGlzdFxuICAgIHRoaXMuc2V0TG9jYWwocmVtb3RlLmNvbnRlbnRzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBib3RoIGRvIG5vdCBleGlzdFxuICAgIGlmICghY29udGVudHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZGF0YSB0byBzeW5jaHJvbml6ZSEnKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldExvY2FsKGNvbnRlbnRzKTtcbiAgICBhd2FpdCB0aGlzLnNldFJlbW90ZShjb250ZW50cyk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTeW5jZWRGaWxlO1xuIiwiY29uc3QgcXMgPSByZXF1aXJlKCcuL3F1ZXJ5c3RyaW5nJyk7XG5cbmNvbnN0IG1pbWUgPSB7XG4gIGpzb246ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgcGxhaW5UZXh0OiAndGV4dC9wbGFpbicsXG59O1xuXG5hc3luYyBmdW5jdGlvbiByZXF1ZXN0KHVybCwgcXVlcnksIGJvZHksIG1ldGhvZCwgaGVhZGVycykge1xuICBsZXQgcmVzb3VyY2UgPSB1cmw7XG4gIGlmIChxdWVyeSkge1xuICAgIHJlc291cmNlICs9IGA/JHtxcy5idWlsZChxdWVyeSl9YDtcbiAgfVxuXG4gIHJldHVybiBmZXRjaChyZXNvdXJjZSwge1xuICAgIGJvZHksXG4gICAgbWV0aG9kLFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKGhlYWRlcnMpLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gbXVsdGlwYXJ0KHBhcnRzLCBtaW1lVHlwZXMsIGJvdW5kYXJ5ID0gJ2JvdW5kYXJ5Jykge1xuICBsZXQgcmVzdWx0ID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgKz0gYC0tJHtib3VuZGFyeX1cbkNvbnRlbnQtVHlwZTogJHttaW1lVHlwZXNbaV19OyBjaGFyc2V0PVVURi04XG5cbiR7cGFydHNbaV19XG5gO1xuICB9XG4gIHJlc3VsdCArPSBgXG4tLSR7Ym91bmRhcnl9LS1gO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmVxdWVzdCxcbiAgbXVsdGlwYXJ0LFxuICBtaW1lLFxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBwYXJzZShzdHIpIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBzdHIuc3BsaXQoJyYnKS5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAuaW5jbHVkZXMoJz0nKSkge1xuICAgICAgICBjb25zdCBwYWlyID0gcC5zcGxpdCgnPScpO1xuICAgICAgICByZXRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0W3BdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmV0O1xuICB9LFxuICBidWlsZChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoa2V5ID0+IGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudChvYmpba2V5XSl9YCkuam9pbignJicpO1xuICB9XG59O1xuIiwiLy8gVGFidW4gLSBhIGRpc3RyaWJ1dGVkLCBleHRlbnNpYmxlIHNwYWNlZC1yZXBldGl0aW9uIGZsYXNoY2FyZCBzb2Z0d2FyZVxuLy8gQ29weXJpZ2h0IChDKSAyMDE4IFNpZCBNYW5pXG4vL1xuLy8gVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbi8vIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzXG4vLyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGVcbi8vIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4vL1xuLy8gVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4vLyBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuLy8gTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuLy8gR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4vL1xuLy8gWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4vLyBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG5yZXF1aXJlKCdyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUnKTtcblxuY29uc3Qgc2V0dGluZ3MgPSByZXF1aXJlKCcuL3JlbmRlci9zZXR0aW5ncycpO1xuY29uc3QgZGVja3MgPSByZXF1aXJlKCcuL3JlbmRlci9kZWNrcycpO1xuY29uc3QgYXV0aCA9IHJlcXVpcmUoJy4vcmVuZGVyL2F1dGgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldHRpbmdzLFxuICBkZWNrcyxcbiAgYXV0aCxcbn07XG4iLCJjb25zdCBEcml2ZSA9IHJlcXVpcmUoJy4uL2NvcmUvZHJpdmUnKTtcbmNvbnN0IHFzID0gcmVxdWlyZSgnLi4vY29yZS91dGlsL3F1ZXJ5c3RyaW5nJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgZnVuY3Rpb24gYXV0aCgpIHtcbiAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKTtcbiAgaWYgKGhhc2gubGVuZ3RoID4gMCkge1xuICAgIC8vIHJldHVybiBmcm9tIGdvb2dsZVxuICAgIGNvbnN0IHJlc3BvbnNlID0gcXMucGFyc2UoaGFzaCk7XG5cbiAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggZmFpbHVyZS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB2YWxpZGF0ZSB0aGUgdG9rZW5cbiAgICB0cnkgeyBcbiAgICAgIGNvbnN0IGRyaXZlID0gbmV3IERyaXZlKHJlc3BvbnNlLmFjY2Vzc190b2tlbiwgcmVzcG9uc2UuZXhwaXJlc19pbiArIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApKTtcbiAgICAgIGF3YWl0IGRyaXZlLnZhbGlkYXRlKHJlc3BvbnNlLmFjY2Vzc190b2tlbik7XG4gICAgICBkcml2ZS5wZXJzaXN0KCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24gPSAnLi4vbWFpbi8nO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJ0F1dGhlbnRpY2F0aW9uIGVycm9yLiA8YSBocmVmPVwiL2F1dGgvXCI+VHJ5IGFnYWluPC9hPic7XG4gICAgfVxuICB9IGVsc2UgaWYgKGF3YWl0IERyaXZlLnNldHVwKCkpIHtcbiAgICB3aW5kb3cubG9jYXRpb24gPSAnLi4vbWFpbi8nO1xuICB9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBidWlsZEhUTUwob2JqZWN0KSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG9iamVjdC50YWcudG9VcHBlckNhc2UoKSk7XG4gIE9iamVjdC5rZXlzKG9iamVjdCkuZm9yRWFjaChhdHRyID0+IHtcbiAgICBpZiAoYXR0ciAhPT0gJ3RhZycgJiYgYXR0ciAhPT0gJ2NoaWxkcmVuJyAmJiBhdHRyICE9PSAndGV4dCcpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsIG9iamVjdFthdHRyXSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAob2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgb2JqZWN0LmNoaWxkcmVuLmZvckVhY2goYyA9PiB7XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGJ1aWxkSFRNTChjKSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob2JqZWN0LnRleHQpIHtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG9iamVjdC50ZXh0KSk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbiIsImNvbnN0IERlY2tzID0gcmVxdWlyZSgnLi4vY29yZS9kZWNrL2RlY2tzJyk7XG5jb25zdCBEcml2ZSA9IHJlcXVpcmUoJy4uL2NvcmUvZHJpdmUnKTtcbmNvbnN0IFNldHRpbmdzID0gcmVxdWlyZSgnLi4vY29yZS9zZXR0aW5ncycpO1xuY29uc3QgYnVpbGQgPSByZXF1aXJlKCcuL2J1aWxkSFRNTCcpO1xuXG5mdW5jdGlvbiBsYXlvdXQoZGVja3MpIHtcbiAgY29uc3Qgb2JqID0ge1xuICAgIHRhZzogJ2RpdicsXG4gICAgJ2NsYXNzJzogJ2RlY2tzJyxcbiAgICBjaGlsZHJlbjogW10sXG4gIH1cbiAgXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBvYmouY2hpbGRyZW4ucHVzaCh7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgJ2NsYXNzJzogJ2RlY2snLFxuICAgICAgY2hpbGRyZW46IFt7XG4gICAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgICAnY2xhc3MnOiAnZGVjay1uYW1lJyxcbiAgICAgICAgdGV4dDogZGVja3NbaV0ubmFtZSxcbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnc3BhbicsXG4gICAgICAgICdjbGFzcyc6ICdkZWNrLXNvdXJjZScsXG4gICAgICAgIHRleHQ6IGRlY2tzW2ldLnNvdXJjZSxcbiAgICAgIH1dLFxuICAgIH0pOyBcbiAgfVxuICBcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpLmFwcGVuZENoaWxkKGJ1aWxkKG9iaikpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBkaXNwbGF5KCkge1xuICAvLyByZWRpcmVjdCB0byBhdXRoIGlmIHRva2VuIGRvZXNuJ3QgZXhpc3RcbiAgY29uc3QgZHJpdmUgPSBhd2FpdCBEcml2ZS5zZXR1cCgpO1xuXG4gIC8vIGNyZWF0ZSBzZXR0aW5ncyBhbmQgc3luY1xuICBjb25zdCBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncyhkcml2ZSk7XG4gIGF3YWl0IHNldHRpbmdzLnN5bmNocm9uaXplKFNldHRpbmdzLmRlZmF1bHQoKSk7XG4gIFxuICAvLyBjcmVhdGUgZGVjayBtYW5hZ2VyXG4gIGNvbnN0IGRlY2tzID0gbmV3IERlY2tzKHNldHRpbmdzLCBkcml2ZSk7XG4gIGxheW91dChkZWNrcy5saXN0KCkpO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0geyBkaXNwbGF5IH07XG4iLCJjb25zdCBEcml2ZSA9IHJlcXVpcmUoJy4uL2NvcmUvZHJpdmUnKTtcbmNvbnN0IFNldHRpbmdzID0gcmVxdWlyZSgnLi4vY29yZS9zZXR0aW5ncycpO1xuY29uc3QgYnVpbGQgPSByZXF1aXJlKCcuL2J1aWxkSFRNTCcpO1xuXG5mdW5jdGlvbiBsYXlvdXQocykge1xuICBjb25zb2xlLmxvZyhzKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGlzcGxheSgpIHtcbiAgY29uc3QgZHJpdmUgPSBhd2FpdCBEcml2ZS5zZXR1cCgpO1xuICBjb25zdCBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncyhkcml2ZSk7XG4gIGF3YWl0IHNldHRpbmdzLnN5bmNocm9uaXplKCk7XG5cbiAgbGF5b3V0KHNldHRpbmdzLmdldCgpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7IGRpc3BsYXkgfVxuIl19
